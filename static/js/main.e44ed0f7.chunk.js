(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{30:function(e,t,a){e.exports=a(47)},39:function(e,t,a){},41:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n,c,l,r=a(1),o=a.n(r),m=a(27),s=a.n(m),u=(a(39),a(41),a(0)),i=function(){var e=Object(u.o)(),t=function(){n=document.querySelector(".username").value,c=document.querySelector(".roomname").value,""===n||""===c?alert("Please Enter Username and Roomid"):(e("/chatpage"),document.querySelector(".username").value="",document.querySelector(".roomname").value="")};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"create_join_container"},o.a.createElement("div",{className:"userinfo_box"},o.a.createElement("div",null,o.a.createElement("div",{className:"userinfo_heading"},o.a.createElement("div",{className:"h2"},"We",o.a.createElement("span",null,"T"),"alk")),o.a.createElement("div",{className:"user"},o.a.createElement("input",{type:"text",className:"username",placeholder:"Enter Name"})),o.a.createElement("div",{className:"user"},o.a.createElement("input",{type:"text",className:"roomname",placeholder:"Enter Room Id"})),o.a.createElement("div",{className:"note"},"Note: Please enter unique Roomid that contains numbers, uppercase and lowercase letters. ",o.a.createElement("br",null)," Ex: abc63eF, Room5423"),o.a.createElement("button",{className:"create-btn",onClick:t},"Create Chat"),o.a.createElement("button",{className:"join-btn",onClick:t},"Join Chat")))))},d=a(4),E=a(29),p=function(){var e=Object(u.o)(),t=Object(r.useState)(),a=Object(d.a)(t,2),m=a[0],s=a[1],i=Object(r.useState)(),p=Object(d.a)(i,2),v=p[0],g=p[1],f=Object(r.useState)([]),b=Object(d.a)(f,2),h=b[0],N=b[1],_=Object(r.useState)("-100%"),j=Object(d.a)(_,2),S=j[0],y=j[1],C=(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),O=Object(r.useState)(C),w=Object(d.a)(O,2),k=w[0],x=w[1];Object(r.useEffect)(function(){return(l=E.a.connect("https://wechatbackend-1o9t.onrender.com")).on("connect",function(){console.log("Connected to the server and is running")}),l.emit("user_room_join",{user:n,room:c}),l.on("user_joined_greeting",function(e){s("".concat(e," has joined !")),setTimeout(function(){s()},5e3)}),l.on("user_left_greeting",function(e){s("".concat(e[0].username," has left")),setTimeout(function(){s()},5e3)}),l.on("user_roomid",function(e){g(e)}),l.on("users_in_room",function(e){N(),console.log(e),N(e)}),function(){l.on("disconnect"),l.off()}},[]),Object(r.useEffect)(function(){l.on("server_message",function(e){var t=document.querySelector(".message-box"),a=document.createElement("div");a.classList.add("left"),a.innerHTML="".concat(e.user,": ").concat(e.client_msg_input,"<br><p> ").concat(e.time,"</p>"),t.appendChild(a)})},[]),setInterval(function(){var e=(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});x(e)},1e3);return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"chatpage_container"},o.a.createElement("div",{className:"navbar"},o.a.createElement("nav",null,o.a.createElement("h1",null,"We",o.a.createElement("span",null,"T"),"alk"),o.a.createElement("div",{className:"hammenu_user"},o.a.createElement("div",{className:"logined_user"},n),o.a.createElement("div",{className:"ham_logo",onClick:function(){"-100%"===S?y("0%"):"0%"===S&&y("-100%")}},o.a.createElement("span",null),o.a.createElement("span",null),o.a.createElement("span",null))))),o.a.createElement("div",{className:"joining_leaving_message"},m),o.a.createElement("div",{className:"message_container"},o.a.createElement("div",{className:"chat_area"},o.a.createElement("div",{className:"message-box"}),o.a.createElement("form",{id:"form",onSubmit:function(e){return e.preventDefault()}},o.a.createElement("input",{className:"input-message",onChange:function(e){return e.target.value},type:"text",placeholder:"Type Message",name:"message"}),o.a.createElement("button",{className:"btn",type:"submit",onClick:function(){var e=document.querySelector(".input-message").value;l.emit("client_message",{user:n,client_msg_input:e,time:k});var t=document.querySelector(".message-box"),a=document.createElement("div");a.classList.add("right"),a.innerHTML="You: ".concat(e,"<br><p> ").concat(k,"</p>"),t.appendChild(a),document.querySelector(".input-message").value=" "}},"Send"))),o.a.createElement("div",{className:"connected-box",style:{right:S}},o.a.createElement("div",null,o.a.createElement("button",{className:"exit-btn",onClick:function(){e("/"),window.location.reload()}}," Leave Chat")),o.a.createElement("div",{className:"roomid"},"RoomId:",v," "),o.a.createElement("h3",{className:"h3"},"People Connected"),o.a.createElement("div",{className:"connected_people"},h.map(function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("ol",{className:"ollist"},o.a.createElement("li",{key:e.id},e.username)))}))))))};var v=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(u.c,null,o.a.createElement(u.a,{path:"/",element:o.a.createElement(i,null)}),o.a.createElement(u.a,{path:"/chatpage",element:o.a.createElement(p,null)})))},g=a(19);s.a.createRoot(document.getElementById("root")).render(o.a.createElement(g.a,null,o.a.createElement(v,null)))}},[[30,2,1]]]);
//# sourceMappingURL=main.e44ed0f7.chunk.js.map