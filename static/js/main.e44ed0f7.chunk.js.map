{"version":3,"sources":["Component/Createjoinpage.jsx","Component/Chatpage.jsx","App.js","index.js"],"names":["user","room","socket","Createjoinpage","navigate","useNavigate","handleclick","document","querySelector","value","alert","React","createElement","Fragment","className","type","placeholder","onClick","Chatpage","_useState","useState","_useState2","_slicedToArray","greeting","setgreeting","_useState3","_useState4","roomname","setroomname","_useState5","_useState6","username","setusername","_useState7","_useState8","right","setright","timing","Date","toLocaleTimeString","hour","minute","_useState9","_useState10","time","settime","useEffect","io","connect","on","console","log","emit","joined_greeting","concat","setTimeout","leftgreeting","user_room_name","usersinroom","off","servermessage","messagebox","div","classList","add","innerHTML","client_msg_input","appendChild","setInterval","newtiming","id","onSubmit","e","preventDefault","onChange","target","name","style","window","location","reload","map","currval","key","App","Routes","Route","path","element","ReactDOM","createRoot","getElementById","render","BrowserRouter"],"mappings":"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","file":"static/js/main.e44ed0f7.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nlet user;\r\nlet room;\r\n\r\nconst Createjoinpage = ()=>{\r\nconst navigate = useNavigate();\r\n\r\n\r\nconst handleclick = ()=>{\r\n   user = document.querySelector('.username').value;\r\n   room = document.querySelector('.roomname').value;\r\n\r\n   if ((user === \"\") || (room === \"\")) {\r\n      alert('Please Enter Username and Roomid');\r\n      \r\n   } else {\r\n      navigate('/chatpage');\r\n      document.querySelector('.username').value = \"\";\r\n      document.querySelector('.roomname').value = \"\";\r\n   }\r\n}\r\n\r\n    return(\r\n        <>\r\n          <div className =\"create_join_container\">\r\n            <div className =\"userinfo_box\">\r\n               <div>\r\n                  <div className =\"userinfo_heading\">\r\n                     <div className =\"h2\">We<span>T</span>alk</div>\r\n                  </div>\r\n                  <div className =\"user\">\r\n                     <input type=\"text\" className =\"username\" placeholder=\"Enter Name\"/>\r\n                  </div>\r\n                  <div className =\"user\">\r\n                     <input type=\"text\" className =\"roomname\" placeholder=\"Enter Room Id\"/>\r\n                  </div>\r\n                  <div className =\"note\">\r\n                     Note: Please enter unique Roomid that contains numbers, uppercase and lowercase letters. <br/> Ex:\r\n                     abc63eF, Room5423\r\n                  </div>\r\n                  <button className =\"create-btn\" onClick={handleclick}>Create Chat</button>\r\n                  <button className =\"join-btn\" onClick={handleclick} >Join Chat</button>\r\n               </div>\r\n            </div>\r\n\r\n         </div>\r\n        \r\n        </>\r\n    )\r\n}\r\n\r\nexport default Createjoinpage;\r\nexport {user, room};","import React from \"react\";\r\nimport { useEffect, useState } from \"react\";\r\nimport io from \"socket.io-client\"\r\nimport { user, room } from \"./Createjoinpage\"\r\nimport { useNavigate } from \"react-router-dom\";\r\nlet socket;\r\n\r\nconst Chatpage = () => {\r\n\r\n    const navigate = useNavigate();\r\n    const [greeting, setgreeting] = useState();\r\n    const [roomname, setroomname] = useState();\r\n    const [username, setusername] = useState([])\r\n    const [right, setright] = useState('-100%');\r\n    let timing = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n    const [time, settime] = useState(timing);\r\n   \r\n    const handleclick = () => {\r\n        navigate('/');\r\n        window.location.reload();\r\n    }\r\n\r\n    const handlemenuclick =()=>{\r\n        if (right==='-100%') {\r\n            setright('0%');\r\n        } else if(right=== '0%'){\r\n            setright('-100%');\r\n        }\r\n          \r\n        \r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        socket = io.connect('https://wechatbackend-1o9t.onrender.com');\r\n\r\n        socket.on('connect', () => {\r\n            console.log(\"Connected to the server and is running\")\r\n        })\r\n\r\n        socket.emit('user_room_join', { user, room });\r\n\r\n        socket.on('user_joined_greeting', (joined_greeting) => {\r\n            setgreeting(`${joined_greeting} has joined !`);\r\n            setTimeout(() => {\r\n                setgreeting();\r\n            }, 5000);\r\n        })\r\n\r\n        socket.on('user_left_greeting', (leftgreeting) => {\r\n            setgreeting(`${leftgreeting[0].username} has left`);\r\n            setTimeout(() => {\r\n                setgreeting();\r\n            }, 5000);\r\n        })\r\n\r\n\r\n        socket.on('user_roomid', (user_room_name) => {\r\n            setroomname(user_room_name);\r\n        })\r\n\r\n        socket.on('users_in_room', (usersinroom) => {\r\n            setusername();\r\n            console.log(usersinroom);\r\n            setusername(usersinroom);\r\n        })\r\n\r\n        return () => {\r\n            socket.on('disconnect');\r\n            socket.off();\r\n        }\r\n    }, [])\r\n\r\n\r\n    useEffect(() => {\r\n        socket.on('server_message', (servermessage) => {\r\n\r\n            let messagebox = document.querySelector(\".message-box\");\r\n            let div = document.createElement(\"div\");\r\n            div.classList.add(\"left\");\r\n            div.innerHTML = `${servermessage.user}: ${servermessage.client_msg_input}<br><p> ${servermessage.time}</p>`;\r\n            messagebox.appendChild(div);\r\n        })\r\n    }, [])\r\n\r\n\r\n\r\n    setInterval(() => {\r\n        let newtiming = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n        settime(newtiming);\r\n    }, 1000);\r\n\r\n\r\n    const handlesend = () => {\r\n        let client_msg_input = document.querySelector('.input-message').value;\r\n        socket.emit('client_message', { user, client_msg_input, time });\r\n\r\n        let messagebox = document.querySelector(\".message-box\");\r\n        let div = document.createElement(\"div\");\r\n        div.classList.add(\"right\");\r\n        div.innerHTML = `You: ${client_msg_input}<br><p> ${time}</p>`\r\n        messagebox.appendChild(div);\r\n        document.querySelector('.input-message').value = \" \";\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <div className=\"chatpage_container\">\r\n                <div className=\"navbar\">\r\n                    <nav>\r\n                        <h1>We<span>T</span>alk</h1>\r\n                        <div className=\"hammenu_user\">\r\n                            <div className=\"logined_user\">{user}</div>\r\n                            <div className=\"ham_logo\" onClick={handlemenuclick}  >\r\n                                <span></span>\r\n                                <span></span>\r\n                                <span></span>\r\n                            </div>\r\n                        </div>\r\n                    </nav>\r\n                </div>\r\n                <div className=\"joining_leaving_message\">\r\n                    {greeting}\r\n                </div>\r\n                <div className=\"message_container\">\r\n                    <div className=\"chat_area\">\r\n                        <div className=\"message-box\">\r\n\r\n                        </div>\r\n                        <form id=\"form\" onSubmit={(e) => e.preventDefault()} >\r\n                            <input className=\"input-message\" onChange={(e) => e.target.value} type=\"text\" placeholder=\"Type Message\" name=\"message\" />\r\n                            <button className=\"btn\" type=\"submit\" onClick={handlesend} >Send</button>\r\n                        </form>\r\n                    </div>\r\n                    <div className=\"connected-box\" style={{right:right}}>\r\n                        <div><button className=\"exit-btn\" onClick={handleclick}> Leave Chat</button></div>\r\n                        <div className=\"roomid\">RoomId:{roomname} </div>\r\n                        <h3 className=\"h3\">People Connected</h3>\r\n                        <div className=\"connected_people\">\r\n                            {username.map((currval) => {\r\n                                return (\r\n                                    <>\r\n                                        <ol className=\"ollist\">\r\n                                            <li key={currval.id}>{currval.username}</li>\r\n                                        </ol>\r\n                                    </>\r\n                                )\r\n                            })}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Chatpage;","import React from 'react';\nimport './App.css';\nimport Createjoinpage from \"./Component/Createjoinpage\";\nimport Chatpage from \"./Component/Chatpage\";\nimport { Route, Routes } from \"react-router-dom\";\n\n\n\n\nfunction App() {\n  return (\n\n    <>\n      <Routes>\n        <Route path=\"/\" element={<Createjoinpage />} ></Route>\n        <Route path=\"/chatpage\" element={<Chatpage />}></Route>\n      </Routes>\n\n      {/* $env:NODE_OPTIONS = \"--openssl-legacy-provider\" */}\n    </>\n\n  );\n}\n\n\nexport default App;\n\n","\n import React from 'react';\n import ReactDOM from 'react-dom/client';\n import './index.css';\n import App from './App';\n import { BrowserRouter } from 'react-router-dom';\n\n const root = ReactDOM.createRoot(document.getElementById('root'));\n root.render(\n  //  <React.StrictMode>\n <BrowserRouter>\n     <App />\n </BrowserRouter>\n  //  </React.StrictMode>\n );\n"],"sourceRoot":""}